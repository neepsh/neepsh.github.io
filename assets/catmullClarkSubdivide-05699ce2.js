import{g as c,W as b,s as S,k as x,S as y,d as v,P,J as C}from"./three.module-2e0eea6d.js";import{O as E}from"./OrbitControls-5ebfa66f.js";import{R as k}from"./RoomEnvironment-c79c43e7.js";import{f as R,h as B,g as G,y as W,o as V,c as z,_ as A}from"./index-4c8cf54e.js";function H(a){let n=a.clone();console.log(n);let o={},t={},l=n.getAttribute("position"),d=n.index.array;for(let i=0;i<n.groups.length;i++){let s=n.groups[i],e=[],r=new c;for(let u=0;u<s.count;u++){if(u===2||u===3)continue;let f=new c().fromBufferAttribute(l,d[s.start+u]);e.push(f),r.add(f)}r.multiplyScalar(.25),o[i]={facePoint:r,points:e};let g=new c().addVectors(e[0],e[1]).multiplyScalar(.5),_=new c().addVectors(e[1],e[2]).multiplyScalar(.5),w=new c().addVectors(e[2],e[3]).multiplyScalar(.5),h=new c().addVectors(e[3],e[0]).multiplyScalar(.5);m(t,p(g),e[0],e[1],r),m(t,p(_),e[2],e[1],r),m(t,p(w),e[2],e[3],r),m(t,p(h),e[3],e[0],r)}console.log(o),console.log(t)}function p(a){return`${a.x},${a.y},${a.z}`}function m(a,n,o,t,l){a[n]?(a[n].point.push(o,t),a[n].pacePoint.push(l)):a[n]={point:[o,t],pacePoint:[l]}}const I={id:"robot"},M=R({__name:"catmullClarkSubdivide",setup(a){let n=B(null);return G(()=>{const o=document.getElementById("robot"),t=new b({antialias:!0});t.setPixelRatio(window.devicePixelRatio),t.setSize(o.offsetWidth,o.offsetHeight),t.outputEncoding=S,o.appendChild(t.domElement);const l=new x(t),d=new y;d.background=new v(12575709),d.environment=l.fromScene(new k,.04).texture;const i=new P(40,o.offsetWidth/o.offsetHeight,1,100);i.position.set(5,2,8);const s=new E(i,t.domElement);s.target.set(0,.5,0),s.update(),s.enablePan=!1,s.enableDamping=!0;{let r=new C(1,1,1);H(r)}e(),window.onresize=function(){i.aspect=o.offsetWidth/o.offsetHeight,i.updateProjectionMatrix(),t.setSize(o.offsetWidth,o.offsetHeight)};function e(){n.value=requestAnimationFrame(e),s.update(),t.render(d,i)}}),W(()=>{cancelAnimationFrame(n.value)}),(o,t)=>(V(),z("div",I))}});const q=A(M,[["__scopeId","data-v-cd41658b"]]);export{q as default};
