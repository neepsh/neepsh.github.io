import{f as C,h as a,g as w,o as r,c as u,a as n,n as f,u as l,w as m,z as V,A as k,B as b,F as y,k as B,_ as z}from"./index-4c8cf54e.js";const M={class:"tts"},T={class:"content"},A={key:0},F={key:1,class:"audios"},L=["label","value"],N=C({__name:"tts",setup(D){let p=a(!1),c=a(),v=a([]),o=a(""),i,g=a(1),S=a(1);const x=()=>{i=window.speechSynthesis;function t(){let s=[];s=i.getVoices().sort(function(e,d){const _=e.name.toUpperCase(),h=d.name.toUpperCase();return _<h?-1:_==h?0:1}),v.value=s.filter(e=>e.lang=="zh-CN")}t(),speechSynthesis.onvoiceschanged!==void 0&&(speechSynthesis.onvoiceschanged=t)},U=()=>{if(console.log(i.speaking),i.speaking){console.error("speechSynthesis.speaking");return}if(o.value!==""){const t=new SpeechSynthesisUtterance(o.value);t.onend=function(s){console.log("SpeechSynthesisUtterance.onend")},t.onerror=function(s){console.error("SpeechSynthesisUtterance.onerror")},t.voice=c.value,t.pitch=g.value,t.rate=S.value,i.speak(t)}};return w(()=>{x()}),(t,s)=>(r(),u(y,null,[n("div",M,[n("span",{class:f({active:l(p)})},"语音识别",2),n("span",{class:f({active:!l(p)})},"文本转语音",2)]),n("div",T,[l(p)?(r(),u("div",A)):(r(),u("div",F,[n("div",null,[m(n("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>k(o)?o.value=e:o=e)},null,512),[[V,l(o)]])]),n("div",null,[m(n("select",{"onUpdate:modelValue":s[1]||(s[1]=e=>k(c)?c.value=e:c=e),placeholder:"Select"},[(r(!0),u(y,null,B(l(v),(e,d)=>(r(),u("option",{key:d,label:e.name,value:e},null,8,L))),128))],512),[[b,l(c)]])]),n("button",{onClick:U},"speak")]))])],64))}});const I=z(N,[["__scopeId","data-v-70446a6a"]]);export{I as default};
