import{W as u,s as _,k as b,S as w,d as g,P as h,l as v,C as x}from"./three.module-d899fbfe.js";import{O as R}from"./OrbitControls-671df778.js";import{R as C,D as E,G as P}from"./DRACOLoader-36ea9956.js";import{g as k,h as A,x as D,y as G,o as L,c as W,_ as y}from"./index-ec03aec8.js";const M={id:"robot"},S=k({__name:"blender-robot",setup(B){let c=A(null);return D(()=>{let s;const d=new x,e=document.getElementById("robot"),o=new u({antialias:!0});o.setPixelRatio(window.devicePixelRatio),o.setSize(e.offsetWidth,e.offsetHeight),o.outputEncoding=_,e.appendChild(o.domElement);const p=new b(o),r=new w;r.background=new g(12575709),r.environment=p.fromScene(new C,.04).texture;const n=new h(40,e.offsetWidth/e.offsetHeight,1,100);n.position.set(5,2,8);const a=new R(n,o.domElement);a.target.set(0,.5,0),a.update(),a.enablePan=!1,a.enableDamping=!0;const l=new E;l.setDecoderPath("js/libs/draco/gltf/");const m=new P;m.setDRACOLoader(l),m.load("/robot.glb",function(t){const i=t.scene;i.scale.set(.1,.1,.1),r.add(i),s=new v(i),console.log(t),s.clipAction(t.animations[0]).play(),f()},void 0,function(t){console.error(t)}),window.onresize=function(){n.aspect=e.offsetWidth/e.offsetHeight,n.updateProjectionMatrix(),o.setSize(e.offsetWidth,e.offsetHeight)};function f(){c.value=requestAnimationFrame(f);const t=d.getDelta();s.update(t),a.update(),o.render(r,n)}}),G(()=>{cancelAnimationFrame(c.value)}),(s,d)=>(L(),W("div",M))}});const I=y(S,[["__scopeId","data-v-c7c951e6"]]);export{I as default};
